import{u as Q,r as p,j as e,b as o}from"./index-DLfbEI9z.js";import{O as a}from"./Card-CJ_YK3Fc.js";import{O as k}from"./Grid-uJb3-zNg.js";import{O}from"./Heading-CPx4GJOJ.js";function T(){const{t:S}=Q(),[r,j]=p.useState(!1),[i,g]=p.useState({}),n=t=>t<1?0:t<1024?1:Math.floor(Math.log2(t))-9+1,v=t=>{const s=n(t);return s<1?1:Math.pow(2,s+9)},M=t=>{const s=n(t);if(s<1)return 0;const d=Math.pow(2,s+9),c=s>1?Math.pow(2,s+8):0,u=t-c,m=d-c;return Math.round(u/m*100)},l=(t,s)=>{console.log("Starting Quest 1"),j(!0);const d=1,c=125,u=n(i?.skills?.[s]||0),y=(d-u)*.25,b=n(i?.attributes?.[t]||0)/12,L=Math.max(0,b-y),f=Math.max(0,L-.05);console.log("Malus:",y,"Bonus:",b,"Mastery",L),console.log("Success Rate:",(f*100).toFixed(2),"%");const w=Math.random()<f;let h=c,x=c/6;w?console.log("Success!"):(h=h/2,x=x/2,console.log("Failed!")),setTimeout(()=>{g({...i,attributes:{...i.attributes,[t]:Math.round((i.attributes[t]||0)+x)},skills:{...i.skills,[s]:Math.round((i.skills[s]||0)+h)}}),j(!1)},4e3)};return p.useEffect(()=>{g({name:"Pachu'a Wapi Qatlaalawsiq",abbr:"PWQ",slug:"pachua-wapi-qatlaalawsiq",resistances:{physical:2,mental:4,spiritual:4},attributes:{strength:1,constitution:1,dexterity:1,perception:2048,intelligence:1024,willpower:1024},skills:{}})},[]),i?.name?e.jsxs("section",{className:"oyk-page oyk-dev-quests",children:[e.jsx(O,{title:S("Quests")}),e.jsxs(k,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"16px",marginBottom:"16px"},children:[e.jsx("div",{style:{flex:"1 1 100%"},children:e.jsx("h2",{children:i.name})}),e.jsxs(a,{children:[e.jsx("h3",{children:"Résistances"}),e.jsx("br",{}),e.jsx("ul",{children:Object.entries(i.resistances).map(([t,s])=>e.jsxs("li",{children:[t,": ",s]},t))})]}),e.jsxs(a,{children:[e.jsx("h3",{children:"Attributs"}),e.jsx("br",{}),e.jsx("ul",{children:Object.entries(i.attributes).map(([t,s])=>e.jsxs("li",{children:[t,": ",n(s)," (",s,"/",v(s)," xp) [",M(s),"%]"]},t))})]}),e.jsxs(a,{children:[e.jsx("h3",{children:"Compétences"}),e.jsx("br",{}),e.jsx("ul",{children:Object.entries(i.skills).map(([t,s])=>e.jsxs("li",{children:[t,": ",n(s)," (",s," xp)"]},t))})]})]}),e.jsxs(a,{children:[e.jsx("h3",{children:"Quêtes"}),e.jsx("br",{}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(o,{color:"primary",disabled:r,isLoading:r,action:()=>l("strength","woodcutting"),children:"Start"})," Quête 1: Lvl 1 (strength) [woodcutting]"]}),e.jsxs("li",{children:[e.jsx(o,{color:"primary",disabled:r,isLoading:r,action:()=>l("constitution","carrying"),children:"Start"})," Quête 2: Lvl 1 (constitution) [carrying]"]}),e.jsxs("li",{children:[e.jsx(o,{color:"primary",disabled:r,isLoading:r,action:()=>l("dexterity","archery"),children:"Start"})," Quête 3: Lvl 1 (dexterity) [archery]"]}),e.jsxs("li",{children:[e.jsx(o,{color:"primary",disabled:r,isLoading:r,action:()=>l("perception","tracking"),children:"Start"})," Quête 4: Lvl 1 (perception) [tracking]"]}),e.jsxs("li",{children:[e.jsx(o,{color:"primary",disabled:r,isLoading:r,action:()=>l("intelligence","alchemy"),children:"Start"})," Quête 5: Lvl 1 (intelligence) [alchemy]"]}),e.jsxs("li",{children:[e.jsx(o,{color:"primary",disabled:r,isLoading:r,action:()=>l("willpower","negotiation"),children:"Start"})," Quête 6: Lvl 1 (willpower) [negotiation]"]})]}),e.jsx("br",{}),e.jsx("p",{children:"QL - SL = LD x 0,25 = Malus"}),e.jsx("p",{children:"SA / AT = Bonus"}),e.jsx("p",{children:"AB - LM = M - D = SR"})]})]})]}):null}export{T as default};
